<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate a Report of Term Matches — report_term_matches • lingmatch</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Generate a Report of Term Matches — report_term_matches"><meta name="description" content="Extract matches to fuzzy terms (globs/wildcards or regular expressions) from provided text, in order
to assess their appropriateness for inclusion in a dictionary."><meta property="og:description" content="Extract matches to fuzzy terms (globs/wildcards or regular expressions) from provided text, in order
to assess their appropriateness for inclusion in a dictionary."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">lingmatch</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>Guides</h6></li>
    <li><a class="dropdown-item" href="../articles/quickstart.html">Quick Start</a></li>
    <li><a class="dropdown-item" href="../articles/groups.html">Group Comparisons</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introductions</h6></li>
    <li><a class="dropdown-item" href="../articles/introduction.html">Text Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/word_vectors.html">Word Vectors</a></li>
    <li><a class="dropdown-item" href="../articles/text_classification.html">Text Classification</a></li>
    <li><a class="dropdown-item" href="../articles/dictionary_creation.html">Dictionary Creation</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/miserman/lingmatch/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate a Report of Term Matches</h1>
      <small class="dont-index">Source: <a href="https://github.com/miserman/lingmatch/blob/HEAD/R/report_term_matches.R" class="external-link"><code>R/report_term_matches.R</code></a></small>
      <div class="d-none name"><code>report_term_matches.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extract matches to fuzzy terms (globs/wildcards or regular expressions) from provided text, in order
to assess their appropriateness for inclusion in a dictionary.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">report_term_matches</span><span class="op">(</span><span class="va">dict</span>, text <span class="op">=</span> <span class="cn">NULL</span>, space <span class="op">=</span> <span class="cn">NULL</span>, glob <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parse_phrases <span class="op">=</span> <span class="cn">TRUE</span>, tolower <span class="op">=</span> <span class="cn">TRUE</span>, punct <span class="op">=</span> <span class="cn">TRUE</span>, special <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  as_terms <span class="op">=</span> <span class="cn">FALSE</span>, bysentence <span class="op">=</span> <span class="cn">FALSE</span>, as_string <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  term_map_freq <span class="op">=</span> <span class="fl">1</span>, term_map_spaces <span class="op">=</span> <span class="fl">1</span>, outFile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  space_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"lingmatch.lspace.dir"</span><span class="op">)</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dict">dict<a class="anchor" aria-label="anchor" href="#arg-dict"></a></dt>
<dd><p>A vector of terms, list of such vectors, or a matrix-like object to be
categorized by <code><a href="read.dic.html">read.dic</a></code>.</p></dd>


<dt id="arg-text">text<a class="anchor" aria-label="anchor" href="#arg-text"></a></dt>
<dd><p>A vector of text to extract matches from. If not specified, will use the terms
in the <code>term_map</code> retrieved from <code><a href="select.lspace.html">select.lspace</a></code>.</p></dd>


<dt id="arg-space">space<a class="anchor" aria-label="anchor" href="#arg-space"></a></dt>
<dd><p>A vector space used to calculate similarities between term matches.
Name of a the space (see <code><a href="select.lspace.html">select.lspace</a></code>), a matrix with terms as row names, or
<code>TRUE</code> to auto-select a space based on matched terms.</p></dd>


<dt id="arg-glob">glob<a class="anchor" aria-label="anchor" href="#arg-glob"></a></dt>
<dd><p>Logical; if <code>TRUE</code>, converts globs (asterisk wildcards) to regular expressions.
If not specified, this will be set automatically.</p></dd>


<dt id="arg-parse-phrases">parse_phrases<a class="anchor" aria-label="anchor" href="#arg-parse-phrases"></a></dt>
<dd><p>Logical; if <code>TRUE</code> (default) and <code>space</code> is specified, will
break unmatched phrases into single terms, and average across and matched vectors.</p></dd>


<dt id="arg-tolower">tolower<a class="anchor" aria-label="anchor" href="#arg-tolower"></a></dt>
<dd><p>Logical; if <code>FALSE</code>, will retain <code>text</code>'s case.</p></dd>


<dt id="arg-punct">punct<a class="anchor" aria-label="anchor" href="#arg-punct"></a></dt>
<dd><p>Logical; if <code>FALSE</code>, will remove punctuation markings in <code>text</code>.</p></dd>


<dt id="arg-special">special<a class="anchor" aria-label="anchor" href="#arg-special"></a></dt>
<dd><p>Logical; if <code>FALSE</code>, will attempt to replace special characters in <code>text</code>.</p></dd>


<dt id="arg-as-terms">as_terms<a class="anchor" aria-label="anchor" href="#arg-as-terms"></a></dt>
<dd><p>Logical; if <code>TRUE</code>, will treat <code>text</code> as terms, meaning <code>dict</code>
terms will only count as matches when matching the complete text.</p></dd>


<dt id="arg-bysentence">bysentence<a class="anchor" aria-label="anchor" href="#arg-bysentence"></a></dt>
<dd><p>Logical; if <code>TRUE</code>, will split <code>text</code> into sentences, and only
consider unique sentences.</p></dd>


<dt id="arg-as-string">as_string<a class="anchor" aria-label="anchor" href="#arg-as-string"></a></dt>
<dd><p>Logical; if <code>FALSE</code>, returns matches as tables rather than a string.</p></dd>


<dt id="arg-term-map-freq">term_map_freq<a class="anchor" aria-label="anchor" href="#arg-term-map-freq"></a></dt>
<dd><p>Proportion of terms to include when using the term map as a source
of terms. Applies when <code>text</code> is not specified.</p></dd>


<dt id="arg-term-map-spaces">term_map_spaces<a class="anchor" aria-label="anchor" href="#arg-term-map-spaces"></a></dt>
<dd><p>Number of spaces in which a term has to appear to be included.
Applies when <code>text</code> is not specified.</p></dd>


<dt id="arg-outfile">outFile<a class="anchor" aria-label="anchor" href="#arg-outfile"></a></dt>
<dd><p>File path to write results to, always ending in <code>.csv</code>.</p></dd>


<dt id="arg-space-dir">space_dir<a class="anchor" aria-label="anchor" href="#arg-space-dir"></a></dt>
<dd><p>Directory from which <code>space</code> should be loaded.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical; if <code>FALSE</code>, will not display status messages.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.frame</code> of results, with a row for each unique term, and the following columns:</p><ul><li><p><strong><code>term</code></strong>: The originally entered term.</p></li>
<li><p><strong><code>regex</code></strong>: The converted and applied regular expression form of the term.</p></li>
<li><p><strong><code>categories</code></strong>: Comma-separated category names,
  if <code>dict</code> is a list with named entries.</p></li>
<li><p><strong><code>count</code></strong>: Total number of matches to the term.</p></li>
<li><p><strong><code>max_count</code></strong>: Number of matches to the most representative
  (that with the highest average similarity) variant of the term.</p></li>
<li><p><strong><code>variants</code></strong>: Number of variants of the term.</p></li>
<li><p><strong><code>space</code></strong>: Name of the latent semantic space, if one was used.</p></li>
<li><p><strong><code>mean_sim</code></strong>: Average similarity to the most representative variant among terms
  found in the space, if one was used.</p></li>
<li><p><strong><code>min_sim</code></strong>: Minimal similarity to the most representative variant.</p></li>
<li><p><strong><code>matches</code></strong>: Variants, with counts and similarity (Pearson's r) to the
  most representative term (if a space was specified). Either in the form of a comma-separated
  string or a <code>data.frame</code> (if <code>as_string</code> is <code>FALSE</code>).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Matches are extracted for each term independently, so they may not align with some implementations
of dictionaries. For instance, by default <code><a href="lma_patcat.html">lma_patcat</a></code> matches destructively, and sorts
terms by length such that shorter terms will not match the same text as longer terms that overlap.
Here, the match would show up for both terms.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>For a more complete assessment of dictionaries, see <code><a href="dictionary_meta.html">dictionary_meta</a>()</code>.</p>
<p>Similar information is provided in the <a href="https://miserman.github.io/dictionary_builder/" class="external-link">dictionary builder</a> web tool.</p>
<p>Other Dictionary functions:
<code><a href="dictionary_meta.html">dictionary_meta</a>()</code>,
<code><a href="download.dict.html">download.dict</a>()</code>,
<code><a href="lma_patcat.html">lma_patcat</a>()</code>,
<code><a href="lma_termcat.html">lma_termcat</a>()</code>,
<code><a href="read.dic.html">read.dic</a>()</code>,
<code><a href="select.dict.html">select.dict</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"I am sadly homeless, and suffering from depression :("</span>,</span></span>
<span class="r-in"><span>  <span class="st">"This wholesome happiness brings joy to my heart! :D:D:D"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"They are joyous in these fearsome happenings D:"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"I feel weightless now that my sadness has been depressed! :()"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dict</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  sad <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"*less"</span>, <span class="st">"sad*"</span>, <span class="st">"depres*"</span>, <span class="st">":("</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  happy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"*some"</span>, <span class="st">"happ*"</span>, <span class="st">"joy*"</span>, <span class="st">"d:"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  self <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"i *"</span>, <span class="st">"my *"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">report_term_matches</span><span class="op">(</span><span class="va">dict</span>, <span class="va">text</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> preparing text (0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> preparing dict (0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> extracting matches (0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> preparing results (0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> done (0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       term               regex categories count max_count variants</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    *less   \\b[^\\s]*less\\b        sad     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     sad*    \\bsad[^\\s]*\\b        sad     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  depres* \\bdepres[^\\s]*\\b        sad     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    *some   \\b[^\\s]*some\\b      happy     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    happ*   \\bhapp[^\\s]*\\b      happy     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     joy*    \\bjoy[^\\s]*\\b      happy     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      i *     \\bi [^\\s]*\\b       self     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     my *    \\bmy [^\\s]*\\b       self     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       d:            \\bd:\\b      happy     2         2        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      :(          \\b:\\(\\b        sad     0         0        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          matches</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   homeless (1), weightless (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         sadly (1), sadness (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  depressed (1), depression (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    fearsome (1), wholesome (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  happiness (1), happenings (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6            joy (1), joyous (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7           i am (1), i feel (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   my heart (1), my sadness (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                         d: (2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                              </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">

</div>

<div class="pkgdown-footer-right">

</div>

    </footer></div>





  </body></html>

