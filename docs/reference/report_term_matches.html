<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Extract matches to fuzzy terms (globs/wildcards or regular expressions) from provided text, in order
to assess their appropriateness for inclusion in a dictionary."><title>Generate a Report of Term Matches — report_term_matches • lingmatch</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Generate a Report of Term Matches — report_term_matches"><meta property="og:description" content="Extract matches to fuzzy terms (globs/wildcards or regular expressions) from provided text, in order
to assess their appropriateness for inclusion in a dictionary."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">lingmatch</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Guides</h6>
    <a class="dropdown-item" href="../articles/quickstart.html">Quick Start</a>
    <a class="dropdown-item" href="../articles/groups.html">Group Comparisons</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Introductions</h6>
    <a class="dropdown-item" href="../articles/introduction.html">Text Analysis</a>
    <a class="dropdown-item" href="../articles/word_vectors.html">Word Vectors</a>
    <a class="dropdown-item" href="../articles/text_classification.html">Text Classification</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/miserman/lingmatch/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generate a Report of Term Matches</h1>
      <small class="dont-index">Source: <a href="https://github.com/miserman/lingmatch/blob/HEAD/R/report_term_matches.R" class="external-link"><code>R/report_term_matches.R</code></a></small>
      <div class="d-none name"><code>report_term_matches.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extract matches to fuzzy terms (globs/wildcards or regular expressions) from provided text, in order
to assess their appropriateness for inclusion in a dictionary.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">report_term_matches</span><span class="op">(</span><span class="va">dict</span>, text <span class="op">=</span> <span class="cn">NULL</span>, space <span class="op">=</span> <span class="cn">NULL</span>, glob <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parse_phrases <span class="op">=</span> <span class="cn">TRUE</span>, tolower <span class="op">=</span> <span class="cn">TRUE</span>, punct <span class="op">=</span> <span class="cn">TRUE</span>, special <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  as_terms <span class="op">=</span> <span class="cn">FALSE</span>, bysentence <span class="op">=</span> <span class="cn">FALSE</span>, as_string <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  outFile <span class="op">=</span> <span class="cn">NULL</span>, space_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"lingmatch.lspace.dir"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dict</dt>
<dd><p>A vector of terms, list of such vectors, or a matrix-like object to be
categorized by <code><a href="read.dic.html">read.dic</a></code>.</p></dd>


<dt>text</dt>
<dd><p>A vector of text to extract matches from. If not specified, will use the terms
in the <code>term_map</code> retrieved from <code><a href="select.lspace.html">select.lspace</a></code>.</p></dd>


<dt>space</dt>
<dd><p>A vector space used to calculate similarities between term matches.
Name of a the space (see <code><a href="select.lspace.html">select.lspace</a></code>), a matrix with terms as row names, or
<code>TRUE</code> to auto-select a space based on matched terms.</p></dd>


<dt>glob</dt>
<dd><p>Logical; if <code>TRUE</code>, converts globs (asterisk wildcards) to regular expressions.
If not specified, this will be set automatically.</p></dd>


<dt>parse_phrases</dt>
<dd><p>Logical; if <code>TRUE</code> (default) and <code>space</code> is specified, will
break unmatched phrases into single terms, and average across and matched vectors.</p></dd>


<dt>tolower</dt>
<dd><p>Logical; if <code>FALSE</code>, will retain <code>text</code>'s case.</p></dd>


<dt>punct</dt>
<dd><p>Logical; if <code>FALSE</code>, will remove punctuation markings in <code>text</code>.</p></dd>


<dt>special</dt>
<dd><p>Logical; if <code>FALSE</code>, will attempt to replace special characters in <code>text</code>.</p></dd>


<dt>as_terms</dt>
<dd><p>Logical; if <code>TRUE</code>, will treat <code>text</code> as terms, meaning <code>dict</code>
terms will only count as matches when matching the complete text.</p></dd>


<dt>bysentence</dt>
<dd><p>Logical; if <code>TRUE</code>, will split <code>text</code> into sentences, and only
consider unique sentences.</p></dd>


<dt>as_string</dt>
<dd><p>Logical; if <code>FALSE</code>, returns matches as tables rather than a string.</p></dd>


<dt>outFile</dt>
<dd><p>File path to write results to, always ending in <code>.csv</code>.</p></dd>


<dt>space_dir</dt>
<dd><p>Directory from which <code>space</code> should be loaded.</p></dd>


<dt>verbose</dt>
<dd><p>Logical; if <code>FALSE</code>, will not display status messages.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>data.frame</code> of results, with a row for each unique term, and the following columns:</p><ul><li><p><strong><code>term</code></strong>: The originally entered term.</p></li>
<li><p><strong><code>regex</code></strong>: The converted and applied regular expression form of the term.</p></li>
<li><p><strong><code>categories</code></strong>: Comma-separated category names,
  if <code>dict</code> is a list with named entries.</p></li>
<li><p><strong><code>count</code></strong>: Total number of matches to the term.</p></li>
<li><p><strong><code>max_count</code></strong>: Number of matches to the most representative
  (that with the highest average similarity) variant of the term.</p></li>
<li><p><strong><code>variants</code></strong>: Number of variants of the term.</p></li>
<li><p><strong><code>space</code></strong>: Name of the latent semantic space, if one was used.</p></li>
<li><p><strong><code>mean_sim</code></strong>: Average similarity to the most representative variant among terms
  found in the space, if one was used.</p></li>
<li><p><strong><code>min_sim</code></strong>: Minimal similarity to the most representative variant.</p></li>
<li><p><strong><code>matches</code></strong>: Variants, with counts and similarity (Pearson's r) to the
  most representative term (if a space was specified). Either in the form of a comma-separated
  string or a <code>data.frame</code> (if <code>as_string</code> is <code>FALSE</code>).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Matches are extracted for each term independently, so they may not align with some implementations
of dictionaries. For instance, by default <code><a href="lma_patcat.html">lma_patcat</a></code> matches destructively, and sorts
terms by length such that shorter terms will not match the same text and longer terms that overlap.
Here, the match would show up for both terms.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"I am sadly homeless, and suffering from depression :("</span>,</span></span>
<span class="r-in"><span>  <span class="st">"This wholesome happiness brings joy to my heart! :D:D:D"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"They are joyous in these fearsome happenings D:"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"I feel weightless now that my sadness has been depressed! :()"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dict</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  sad <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"*less"</span>, <span class="st">"sad*"</span>, <span class="st">"depres*"</span>, <span class="st">":("</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  happy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"*some"</span>, <span class="st">"happ*"</span>, <span class="st">"joy*"</span>, <span class="st">"d:"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  self <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"i *"</span>, <span class="st">"my *"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">report_term_matches</span><span class="op">(</span><span class="va">dict</span>, <span class="va">text</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> preparing text (0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> preparing dict (0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> extracting matches (0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> preparing results (0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> done (0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       term               regex categories count max_count variants</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    *less   \\b[^\\s]*less\\b        sad     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     sad*    \\bsad[^\\s]*\\b        sad     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  depres* \\bdepres[^\\s]*\\b        sad     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    *some   \\b[^\\s]*some\\b      happy     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    happ*   \\bhapp[^\\s]*\\b      happy     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     joy*    \\bjoy[^\\s]*\\b      happy     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      i *     \\bi [^\\s]*\\b       self     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     my *    \\bmy [^\\s]*\\b       self     2         1        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       d:            \\bd:\\b      happy     2         2        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      :(          \\b:\\(\\b        sad     0         0        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          matches</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   weightless (1), homeless (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         sadness (1), sadly (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  depressed (1), depression (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    fearsome (1), wholesome (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  happenings (1), happiness (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6            joyous (1), joy (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7           i feel (1), i am (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   my sadness (1), my heart (1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                         d: (2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                              </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
</div>

    </footer></div>

  

  

  </body></html>

